<template>
    <div>
        <div id="header">
            <Navbar />

            <div class="jumbotron rounded-0 text-white">
                <div id="content" class="container">
                    <div class="row">
                        <div class="col-sm-12 col-md-6">
                            <h1 class="display-5">Hassle free crypto cash loans at your comfort</h1>
                            <p class="lead">With Okestra you can get instant cash loans using your crypto with seamless payout and competitive
                                market rates. Its easy as signup, send crypto and get cash.</p><br>
                            <a class="btn btn-lg landing-btn" href="/">See Our Rates <span><i class="fa fa-arrow-right"></i></span> </a>
                        </div>

                        <div class="col-sm-12 col-md-6">
                            <div class="card mb-5 shadow rounded-0 border-0">
                                <div class="card-body">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="okestra-intro">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h2>Low rates borrowing using your crypto</h2>
                        <p>In moments when you are stuck and need quick cash let your cryptocurrency help you access cash quick.
                            Deposit your crypto as collateral with Okestra and borrow funds against them this guarantees you the best
                            market rates and you still get to keep your cryptos!
                        </p>
                        <a href="" class="btn btn-primary">Learn More</a>
                    </div>
                    <div class="col-md-6">
                        <img src="/images/carfinancing.jpeg" alt="">
                    </div>
                </div>
            </div>
        </div>

        <div id="okestra-stats">
            <div class="container">
                <div class="row">
                    <div class="col-md-3">
                        <h2>$10m+</h2>
                        <p>in community assets</p>
                    </div>
                    <div class="col-md-3">
                        <h2>2k+</h2>
                        <p>Okestra users</p>
                    </div>
                    <div class="col-md-3">
                        <h2>$4m+</h2>
                        <p>paid in last year</p>
                    </div>
                    <div class="col-md-3">
                        <h2>80k+</h2>
                        <p>in community crypto</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="okestra-calculator">
            <div class="container">
                <div class="row">
                    <div class="col-md-6"></div>
                    <div class="col-md-6"></div>
                </div>
            </div>
        </div>

        <div id="access-cash-cta">
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <h1>Access cash in 4 easy steps</h1>
                    </div>
                    <div class="col-md-6">
                        <ul>
                            <li>
                                <i class="fa fa-phone"></i>
                                 Access Okestra Portal
                                 <span>to apply for instant loan</span>
                            </li>
                            <li>
                                <i class="fa fa-user"></i>
                                 Verify yourself
                                 <span>get registered with okestra</span>
                            </li>
                            <li>
                                <i class="fa fa-phone"></i>
                                 Transfer your crypto
                                 <span>as collateral for loan</span>
                            </li>
                            <li>
                                <i class="fa fa-credit-card"></i>
                                 Get Paid
                                 <span>get cash into your account</span>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-2">
                        <ul>
                            <li>Visit Portal</li>
                            <li>Learn more</li>
                            <li>Learn more</li>
                            <li>Get Started</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div id="hidden-charges-cta">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h1>No hidden charges</h1>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias minima eligendi eum nemo facilis nobis quisquam maiores quasi exercitationem officiis!</p>
                        <a href="#" class="btn btn-primary">Learn More</a>
                    </div>
                </div>
            </div>
        </div>

        <div id="okestra-news">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <img src="/images/carfinancing.jpeg" alt="">
                        <h3>Crypto News title one</h3>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci optio laborum hic officia velit distinctio tenetur, perferendis qui in. Blanditiis.</p>
                        <a href="#">Learn More <i class="fa fa-arrow-right"></i></a>
                    </div>
                    <div class="col-md-6">
                        <div id="news2">
                            <h3>Crypto news title two</h3>
                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Cum ducimus ad corrupti facere eligendi eveniet.</p>
                            <a href="#">Learn More <i class="fa fa-arrow-right"></i></a>
                            <img src="/images/carfinancing.jpeg" alt="">
                        </div>

                        <div id="news3">
                            <h3>Crypto news title two</h3>
                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Cum ducimus ad corrupti facere eligendi eveniet.</p>
                            <a href="#">Learn More <i class="fa fa-arrow-right"></i></a>
                            <img src="/images/carfinancing.jpeg" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="okestra-faq">
            <div class="container">
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <h1>Frequently asked questions</h1>
                        <ul class="nav nav-tabs rounded-0 text-dark" role="tablist">
                            <li class="nav-item">
                                <a class="pt-3 pb-3 nav-link active text-uppercase font-weight-bold pl-5 pr-5" data-toggle="tab" href="#home">General</a>
                            </li>
                            <li class="nav-item">
                                <a class="pt-3 pb-3 nav-link text-uppercase font-weight-bold pl-5 pr-5" data-toggle="tab" href="#menu1">Security</a>
                            </li>
                            <li class="nav-item">
                                <a class="pt-3 pb-3 nav-link text-uppercase font-weight-bold pl-5 pr-5" data-toggle="tab" href="#menu2">Signup</a>
                            </li>
                        </ul>


                        <div class="tab-content">
                            <div id="home" class="container tab-pane active mt-5 mb-5"><br>
                                <div class="row mb-5">

                                </div>
                            </div>

                            <div id="menu1" class="container tab-pane fade mt-5 mb-5"><br>
                                <div class="row mb-5">

                                </div>
                            </div>

                            <div id="menu2" class="container tab-pane fade mt-5 mb-5"><br>
                                <div class="row mb-5">

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>
        </div>

        <div id="newsletter-signup-cta">
            <div class="container">
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <h1>Use Okestra</h1>
                        <p>Keep ownership of your crypto and get cash at your convenience.</p>
                        <div class="row">
                            <form class="form-inline">
                                <div class="form-group mx-sm-3 mb-2">
                                    <label for="inputPassword2" class="sr-only">Password</label>
                                    <input type="email" class="form-control" id="inputPassword2" placeholder="Email">
                                </div>
                                <button type="submit" class="btn btn-primary mb-2">Sign up Today</button>
                            </form>
                        </div>
                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>
        </div>


        <Footer />
    </div>
</template>


<script>
	import Navbar from "../includes/Header.vue";
	import Footer from "../includes/Footer.vue";
	import axios from "axios";

	export default {
		data() {
			return {
				vehicles: [],

				calculator: {
					monthlypayment: "",
					carprice: "",
					paymentperiod: "",
					deposit: "",
				},

				paymentperiod: [
					{ text: "6 months", value: 6 },
					{ text: "12 months", value: 12 },
					{ text: "18 months", value: 18 },
					{ text: "24 months", value: 24 },
				],
			};
		},

		components: {
			Navbar,
			Footer,
		},

		computed: {},

		mounted: function () {
			axios
				.get("/vehicles")
				.then((res) => {
					this.vehicles = res.data;
				})
				.catch((err) => {
					console.error(err);
				});
		},

		methods: {
			formatInput(event) {
				let val = event.target.value.trim();

				if (/^[1-9]\d*$|^$/.test(val)) {
					"KES" + " " + Number(this.calculator.carprice).toLocaleString();
				} else {
					event.target.value = Number(this.calculator.carprice);
				}
			},

			change(event) {
				let val = event.target.value.trim();
				// It can only be positive integer or empty, and the rule can be modified according to the requirement.
				if (/^[1-9]\d*$|^$/.test(val)) {
					this.calculator.carprice = "KES" + " " + Number(val).toLocaleString();
				} else {
					event.target.value = this.calculator.carprice;
				}
			},

			calculateInstallments() {
				//deposit payable (50% car value + tracking fees + insurance + handling fees)
				this.calculator.deposit =
					"KES" + " " + (Number(this.calculator.carprice) * 0.5).toLocaleString();

				//loan principle
				let loan_principle = this.calculator.carprice - this.calculator.deposit;

				//interest (25 percent divided by 12months)
				let monthly_interest = (2.08 / 100) * (this.calculator.carprice * 0.5);

				if (this.calculator.paymentperiod == "") {
					this.calculator.monthlypayment == " ";
				} else {
					//monthly payment
					this.calculator.monthlypayment =
						"KES" +
						" " +
						Math.round(
							(monthly_interest * this.calculator.paymentperiod +
								this.calculator.carprice * 0.5) /
								this.calculator.paymentperiod
						).toLocaleString();
				}
			},
		},
	};
</script>
